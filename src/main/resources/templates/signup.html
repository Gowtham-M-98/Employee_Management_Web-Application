<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Create an Account</title>
<link rel="stylesheet" href="/CSS/signup.css">
</head>
<body>
<div class="signup-container">
  <form class="signup-form" action="/getUsersLogin" method="post" onsubmit="return validateForm()">
    <h2>Create an Account</h2>

    <label for="name">Full Name</label>
    <input type="text" id="name" name="name" required>

    <label for="email">Email Address</label>
    <input type="email" id="email" name="email" required>

    <label for="userName">Username</label>
    <input type="text" id="username" name="userName" required>

    <label for="password">Password</label>
    <input type="password" id="password" name="password" required>

    <label for="confirmPassword">Confirm Password</label>
    <input type="password" id="confirmPassword" name="confirmPassword" required>
    
    <button type="submit">Sign Up</button>

    <p class="login-link">Already have an account? <a href="/login">Log in</a></p>
  </form>
  
  <script>
    function validateForm() {
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      const confirmPassword = document.getElementById("confirmPassword").value.trim();
      
      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!]).{9,}$/;
      
      if (!name || !email || !username || !password || !confirmPassword) {
          alert("Please fill in all the fields.");
          return false;
        }

        if (!passwordRegex.test(password)) {
          alert("Password must be more than 8 characters and include uppercase, lowercase, number, and special character.");
          return false;
        }

        if (password !== confirmPassword) {
          alert("Passwords do not match.");
          return false;
        }

        alert("Signed-up Successfully!");
        return true;
      }
  </script>
</div>
</body>
</html>